#N canvas 91 67 1676 921 10;
#X obj 1407 89 bng 15 250 50 0 empty empty empty 17 7 0 10 -4032 -1
-1;
#X floatatom 1407 143 5 0 0 0 - - -;
#X obj 1407 3 keyname;
#X obj 1407 25 pack f s;
#X obj 1407 45 route 1;
#X obj 1407 66 route F5;
#X text 1426 88 <- push this or hit F5 four times on the beat;
#X obj 1407 558 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 1426 558 <- beat indicator;
#N canvas 731 129 1126 641 taptempo 0;
#X obj 72 60 x37v-tempo_tapper;
#X floatatom 188 169 5 0 0 0 - - -;
#X obj 188 147 /;
#X obj 188 106 t b f;
#X msg 188 127 60000;
#X obj 72 137 metro;
#X msg 72 113 1;
#X msg 25 113 0;
#X msg 25 164 set 0;
#X obj 72 195 x37v-count 4;
#X obj -7 27 t b b;
#X floatatom 188 87 5 0 0 0 - - -;
#X msg 72 32 reset;
#X text 119 30 <- reset the calculation \, or just wait 1 second after
a bang input;
#X text 222 168 <- bpm;
#X obj -9 6 inlet;
#X obj 72 225 outlet;
#X obj 188 226 outlet;
#X obj 286 212 outlet;
#X connect 0 0 6 0;
#X connect 0 1 5 1;
#X connect 0 1 11 0;
#X connect 1 0 17 0;
#X connect 2 0 1 0;
#X connect 3 0 4 0;
#X connect 3 1 2 1;
#X connect 4 0 2 0;
#X connect 5 0 9 0;
#X connect 6 0 5 0;
#X connect 7 0 5 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 16 0;
#X connect 10 0 0 0;
#X connect 10 1 7 0;
#X connect 11 0 3 0;
#X connect 11 0 18 0;
#X connect 12 0 0 0;
#X connect 12 0 7 0;
#X connect 15 0 10 0;
#X restore 1407 116 pd taptempo;
#X floatatom 1470 141 5 0 0 0 - - -;
#X text 1506 140 <-bpm;
#X obj 1407 188 spigot 0;
#X obj 1452 168 tgl 15 0 empty empty empty 17 7 0 10 -4034 -1 -1 1
1;
#X text 1271 142 beat number: 0..3 ->;
#X obj 1421 493 s beat;
#X obj 1474 173 s bpm;
#X obj 1210 93 s strobe_tick;
#X obj 1210 66 metro 4;
#X obj 1210 22 sel 0;
#X msg 1210 43 1;
#X obj 1252 39 hsl 128 15 4 200 1 0 empty empty empty -2 -8 0 10 -262144
-1 -1 12400 1;
#X floatatom 1264 67 5 0 0 0 - - -;
#X obj 1210 -5 r beat;
#X obj 1058 558 random 128;
#X obj 1058 591 / 128;
#X obj 43 245 pat_shift 6;
#X obj 1131 558 i 0;
#X obj 1157 557 + 7;
#X obj 1131 582 / 100;
#X obj 1131 609 wrap;
#X obj 43 294 print;
#N canvas 341 222 486 637 mirror 0;
#X obj -286 337 + 4;
#X obj -281 179 t f b f;
#X floatatom -278 388 5 0 0 0 - - -;
#X floatatom -243 388 5 0 0 0 - - -;
#X obj -250 339 -;
#X obj -282 143 x37v-count 4;
#X obj -282 94 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj -262 310 i 3;
#X obj -178 134 mod 2;
#X obj -178 104 t f f;
#X obj -178 197 pack f f;
#X obj -178 80 i;
#X obj -178 224 route 0 1;
#X obj -223 253 - 1;
#X floatatom -169 54 5 0 0 0 - - -;
#X floatatom -325 182 5 0 0 0 - - -;
#X msg -269 118 set_length \$1;
#X obj -164 250 - 1;
#X obj -298 23 inlet;
#X obj -178 16 inlet;
#X obj -278 445 pack f f;
#X msg -278 470 \$2 \$1;
#X obj -278 498 outlet;
#X connect 0 0 2 0;
#X connect 1 0 0 0;
#X connect 1 1 7 0;
#X connect 1 2 4 1;
#X connect 2 0 20 0;
#X connect 3 0 20 1;
#X connect 4 0 3 0;
#X connect 5 0 1 0;
#X connect 5 0 15 0;
#X connect 6 0 5 0;
#X connect 7 0 4 0;
#X connect 8 0 10 0;
#X connect 9 0 8 0;
#X connect 9 1 10 1;
#X connect 10 0 12 0;
#X connect 11 0 9 0;
#X connect 11 0 16 0;
#X connect 12 0 0 1;
#X connect 12 0 13 0;
#X connect 12 1 17 0;
#X connect 13 0 7 1;
#X connect 14 0 11 0;
#X connect 16 0 5 0;
#X connect 17 0 7 1;
#X connect 17 0 0 1;
#X connect 18 0 6 0;
#X connect 19 0 14 0;
#X connect 20 0 21 0;
#X connect 21 0 22 0;
#X restore 242 136 pd mirror;
#X obj 242 94 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 242 27 r beat;
#X obj 241 67 spigot 0;
#X obj 286 47 tgl 15 0 empty empty empty 17 7 0 10 -4034 -1 -1 0 1
;
#X obj 1407 406 t a a;
#X obj 1434 470 s colorsel_beat;
#X obj 1058 501 sel 0 1 2;
#X obj 1058 389 r gethue;
#X obj 1058 413 bang;
#X obj 1058 471 i 0;
#X obj 1058 684 t a;
#X obj 1058 717 s hue;
#X floatatom 1098 718 5 0 0 0 - - -;
#X obj 1079 434 hradio 15 1 0 8 empty empty empty 0 -8 0 10 -262144
-1 -1 2;
#X obj 242 174 t a b;
#X obj 242 226 unpack f f;
#X obj 247 267 pack f f f;
#X obj 268 200 s gethue;
#X obj 313 232 r hue;
#X text 298 110 length;
#X text 96 221 length;
#X obj 43 105 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 44 38 r beat;
#X obj 43 78 spigot 0;
#X obj 88 58 tgl 15 0 empty empty empty 17 7 0 10 -4034 -1 -1 0 1;
#X obj 44 134 t b b;
#X obj 44 214 f;
#X obj 73 159 s gethue;
#X obj 59 184 r hue;
#X text 1135 381 hue selection;
#X obj 1237 550 i;
#X obj 1252 525 r colorsel_beat;
#X obj 1238 667 hcr;
#X obj 1264 854 t a;
#X obj 1264 887 s hue;
#X floatatom 1301 888 5 0 0 0 - - -;
#X obj 1237 629 sel 0 1 2 3;
#X obj 1281 667 hcr;
#X obj 1323 667 hcr;
#X obj 1366 667 hcr;
#X obj 735 163 strobes ----------;
#X obj 847 129 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 821 99 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 780 65 hsl 128 15 0 400 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 709 24 spigot 0;
#X obj 754 1 tgl 15 0 empty empty empty 17 7 0 10 -4034 -1 -1 0 1;
#X obj 701 -31 r strobe_tick;
#X obj 423 470 route 0 1 2 3;
#X obj 488 658 t a;
#X obj 488 843 comport;
#X obj 556 691 spigot 0;
#X obj 556 716 print output;
#X obj 601 668 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 302 785 baud 115200;
#X obj 302 758 delay 10;
#X obj 301 687 makefilename /dev/ttyUSB%d;
#X obj 301 662 hradio 15 1 0 8 empty empty empty 0 -8 0 10 -262144
-1 -1 0;
#X msg 301 713 devicename \$1;
#X msg 519 796 close;
#X obj 301 736 bang;
#X obj 595 481 route 4 5 6 7;
#X obj 479 537 led_driver 13;
#X obj 441 579 led_driver 6;
#X obj 460 560 led_driver 8;
#X obj 423 602 led_driver 7;
#X obj 595 613 led_driver 14;
#X obj 613 590 led_driver 15;
#X obj 528 111 vsl 15 128 0.01 1 1 0 empty empty v 0 -9 0 10 -262144
-1 -1 12700 1;
#X obj 507 111 vsl 15 128 0 1 0 0 empty empty s 0 -9 0 10 -262144 -1
-1 12700 1;
#X obj 413 206 unpack f f;
#X obj 661 138 s gethue;
#X obj 708 86 t b b;
#X obj 781 269 r hue;
#X obj 487 111 vsl 15 128 10 8000 0 0 empty empty t 0 -9 0 10 -262144
-1 -1 9500 1;
#X obj 397 361 spigot 0;
#X obj 455 362 spigot 1;
#X obj 500 338 == 0;
#X obj 439 303 tgl 15 0 empty empty empty 17 7 0 10 -4034 -1 -1 1 1
;
#X msg 246 306 \$1 \$3 \, \$2 \$3;
#X obj 447 265 pack f f f 1 1;
#X obj 742 301 pack f f 1 1;
#X obj 884 159 vsl 15 128 0.01 1 1 0 empty empty v 0 -9 0 10 -262144
-1 -1 12700 1;
#X obj 863 159 vsl 15 128 0 1 0 0 empty empty s 0 -9 0 10 -262144 -1
-1 12700 1;
#X obj 245 400 x37v-count 6;
#X obj 245 371 until 6;
#X msg 245 346 6;
#X msg 245 426 \$1 current 1 0 0 0;
#X msg 619 307 \$1 current 1 0 0 0;
#X obj 735 236 t f f;
#X obj 726 271 pipe 40;
#X msg 742 360 \$1 black 1 \$2 \$3 \$4;
#X obj 782 226 / 2;
#X obj 758 189 r strobe_speed;
#X obj 1295 98 s strobe_speed;
#X msg 399 400 \$1 black \$3 \$2 \$4 \$5;
#X msg 423 421 \$1 current \$3 \$2 \$4 \$5;
#X obj 1507 206 / 2;
#X obj 1480 232 delay;
#X obj 1407 227 * 2;
#X obj 1408 375 + 0;
#X msg 1424 322 0;
#X floatatom 1369 461 5 0 0 0 - - -;
#X obj 1407 291 t f b b;
#X msg 1499 301 1;
#X obj 1480 268 t b b;
#X text 1551 269 divide beat;
#X obj 512 447 r led_cmd;
#X obj 671 424 s led_cmd;
#X obj 402 155 r light_hue;
#X obj 787 520 list-abs-intro;
#N canvas 212 302 858 776 patern 0;
#X obj 154 436 s light_hue;
#X obj 152 232 t b b;
#X obj 187 256 s gethue;
#X obj 154 395 pack f f;
#X obj 200 370 r hue;
#X obj 42 -47 r beat;
#X obj 41 -7 spigot 0;
#X obj 86 -27 tgl 15 0 empty empty empty 17 7 0 10 -4034 -1 -1 0 1
;
#X obj 103 48 list-find;
#X obj 154 170 == 0;
#X obj 154 203 sel 0;
#X msg 141 -53 0 4;
#X msg 115 -77 0 2 4 6;
#X msg 96 -101 bang;
#X obj 154 318 list append;
#X obj 154 339 list-drip;
#X msg 236 179 0 1 2 3 4 5;
#X msg 258 243 0 1 2;
#X msg 268 263 3 4 5;
#X obj 245 286 t a;
#X msg 248 222 1 3 5;
#X obj 440 440 s light_hue;
#X obj 438 236 t b b;
#X obj 471 278 s gethue;
#X obj 440 399 pack f f;
#X obj 491 370 r hue;
#X obj 328 -43 r beat;
#X obj 327 -3 spigot 0;
#X obj 372 -23 tgl 15 0 empty empty empty 17 7 0 10 -4034 -1 -1 0 1
;
#X obj 389 52 list-find;
#X obj 440 174 == 0;
#X obj 440 207 sel 0;
#X obj 440 322 list append;
#X obj 440 343 list-drip;
#X msg 522 183 0 1 2 3 4 5;
#X msg 544 247 0 1 2;
#X obj 531 290 t a;
#X msg 530 203 0 2 4;
#X msg 534 226 1 3 5;
#X text 512 -19 <--- subdiv selection;
#X text 626 186 <- light selection;
#N canvas 513 213 450 300 collect 0;
#X obj 195 37 inlet;
#X obj 41 37 inlet;
#X obj 41 144 outlet;
#X msg 195 74 set;
#X text 143 140 1993-2004 by Karlheinz Essl;
#X text 143 160 vs. 1.1;
#X obj 41 99 list trim;
#X obj 41 74 list prepend add2;
#X connect 0 0 3 0;
#X connect 1 0 7 0;
#X connect 3 0 2 0;
#X connect 6 0 2 0;
#X connect 7 0 6 0;
#X restore 553 349 pd collect;
#X msg 553 371 0 2 4;
#X obj 548 314 t a b;
#N canvas 513 213 450 300 collect 0;
#X obj 195 37 inlet;
#X obj 41 37 inlet;
#X obj 41 144 outlet;
#X msg 195 74 set;
#X text 143 140 1993-2004 by Karlheinz Essl;
#X text 143 160 vs. 1.1;
#X obj 41 99 list trim;
#X obj 41 74 list prepend add2;
#X connect 0 0 3 0;
#X connect 1 0 7 0;
#X connect 3 0 2 0;
#X connect 6 0 2 0;
#X connect 7 0 6 0;
#X restore 255 348 pd collect;
#X msg 255 370 1 3 5;
#X obj 250 313 t a b;
#X obj 159 12 t a b;
#N canvas 513 213 450 300 collect 0;
#X obj 195 37 inlet;
#X obj 41 37 inlet;
#X obj 41 144 outlet;
#X msg 195 74 set;
#X text 143 140 1993-2004 by Karlheinz Essl;
#X text 143 160 vs. 1.1;
#X obj 41 99 list trim;
#X obj 41 74 list prepend add2;
#X connect 0 0 3 0;
#X connect 1 0 7 0;
#X connect 3 0 2 0;
#X connect 6 0 2 0;
#X connect 7 0 6 0;
#X restore 190 49 pd collect;
#X msg 190 71 0;
#X msg 158 -33 1 5;
#X msg 176 -11 0 6;
#X msg 424 -42 0 4;
#X msg 398 -66 0 2 4 6;
#X msg 379 -90 bang;
#X obj 442 23 t a b;
#N canvas 513 213 450 300 collect 0;
#X obj 195 37 inlet;
#X obj 41 37 inlet;
#X obj 41 144 outlet;
#X msg 195 74 set;
#X text 143 140 1993-2004 by Karlheinz Essl;
#X text 143 160 vs. 1.1;
#X obj 41 99 list trim;
#X obj 41 74 list prepend add2;
#X connect 0 0 3 0;
#X connect 1 0 7 0;
#X connect 3 0 2 0;
#X connect 6 0 2 0;
#X connect 7 0 6 0;
#X restore 473 60 pd collect;
#X msg 473 82 4;
#X msg 441 -22 1 5;
#X msg 459 0 0 6;
#X msg 554 267 3 5 6;
#X msg 244 199 0 2 4;
#X msg 179 -77 0;
#X msg 475 -67 4;
#X connect 1 0 14 0;
#X connect 1 1 2 0;
#X connect 3 0 0 0;
#X connect 4 0 3 1;
#X connect 5 0 6 0;
#X connect 6 0 8 0;
#X connect 7 0 6 1;
#X connect 8 1 9 0;
#X connect 9 0 10 0;
#X connect 10 0 1 0;
#X connect 11 0 47 0;
#X connect 12 0 47 0;
#X connect 13 0 47 0;
#X connect 14 0 15 0;
#X connect 15 0 3 0;
#X connect 16 0 19 0;
#X connect 17 0 19 0;
#X connect 18 0 19 0;
#X connect 19 0 14 1;
#X connect 19 0 46 0;
#X connect 20 0 19 0;
#X connect 22 0 32 0;
#X connect 22 1 23 0;
#X connect 24 0 21 0;
#X connect 25 0 24 1;
#X connect 26 0 27 0;
#X connect 27 0 29 0;
#X connect 28 0 27 1;
#X connect 29 1 30 0;
#X connect 30 0 31 0;
#X connect 31 0 22 0;
#X connect 32 0 33 0;
#X connect 33 0 24 0;
#X connect 34 0 36 0;
#X connect 35 0 36 0;
#X connect 36 0 32 1;
#X connect 36 0 43 0;
#X connect 37 0 36 0;
#X connect 38 0 36 0;
#X connect 41 0 42 0;
#X connect 43 0 41 0;
#X connect 43 1 41 1;
#X connect 44 0 45 0;
#X connect 46 0 44 0;
#X connect 46 1 44 1;
#X connect 47 0 8 1;
#X connect 47 0 48 0;
#X connect 47 1 48 1;
#X connect 48 0 49 0;
#X connect 50 0 47 0;
#X connect 51 0 47 0;
#X connect 52 0 55 0;
#X connect 53 0 55 0;
#X connect 54 0 55 0;
#X connect 55 0 56 0;
#X connect 55 0 29 1;
#X connect 55 1 56 1;
#X connect 56 0 57 0;
#X connect 58 0 55 0;
#X connect 59 0 55 0;
#X connect 60 0 36 0;
#X connect 61 0 19 0;
#X connect 62 0 47 0;
#X connect 63 0 55 0;
#X restore 566 1 pd patern;
#X obj 1237 576 / 2;
#X obj 1238 604 i;
#X connect 0 0 9 0;
#X connect 1 0 12 0;
#X connect 2 0 3 0;
#X connect 2 1 3 1;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 0 0;
#X connect 9 0 1 0;
#X connect 9 1 10 0;
#X connect 9 2 129 0;
#X connect 10 0 16 0;
#X connect 12 0 131 0;
#X connect 13 0 12 1;
#X connect 18 0 17 0;
#X connect 19 0 20 0;
#X connect 20 0 18 0;
#X connect 21 0 18 1;
#X connect 21 0 22 0;
#X connect 22 0 126 0;
#X connect 23 0 19 0;
#X connect 24 0 25 0;
#X connect 25 0 43 0;
#X connect 26 0 31 0;
#X connect 27 0 29 0;
#X connect 27 0 28 0;
#X connect 28 0 27 1;
#X connect 29 0 30 0;
#X connect 30 0 43 0;
#X connect 32 0 47 0;
#X connect 33 0 32 0;
#X connect 34 0 35 0;
#X connect 35 0 33 0;
#X connect 36 0 35 1;
#X connect 37 0 15 0;
#X connect 37 0 134 0;
#X connect 37 0 7 0;
#X connect 37 1 38 0;
#X connect 39 0 24 0;
#X connect 39 1 27 0;
#X connect 39 2 63 0;
#X connect 40 0 41 0;
#X connect 41 0 42 0;
#X connect 42 0 39 0;
#X connect 43 0 44 0;
#X connect 43 0 45 0;
#X connect 46 0 42 1;
#X connect 47 0 48 0;
#X connect 47 1 50 0;
#X connect 48 0 49 0;
#X connect 48 1 49 1;
#X connect 49 0 111 0;
#X connect 51 0 49 2;
#X connect 54 0 58 0;
#X connect 55 0 56 0;
#X connect 56 0 54 0;
#X connect 57 0 56 1;
#X connect 58 0 59 0;
#X connect 58 1 60 0;
#X connect 59 0 26 0;
#X connect 61 0 59 1;
#X connect 63 0 144 0;
#X connect 64 0 63 1;
#X connect 65 0 66 0;
#X connect 66 0 67 0;
#X connect 66 0 68 0;
#X connect 69 0 65 0;
#X connect 69 1 70 0;
#X connect 69 2 71 0;
#X connect 69 3 72 0;
#X connect 70 0 66 0;
#X connect 71 0 66 0;
#X connect 72 0 66 0;
#X connect 73 0 121 0;
#X connect 74 0 73 3;
#X connect 75 0 73 2;
#X connect 76 0 73 1;
#X connect 77 0 104 0;
#X connect 78 0 77 1;
#X connect 79 0 77 0;
#X connect 80 0 97 0;
#X connect 80 1 95 0;
#X connect 80 2 96 0;
#X connect 80 3 94 0;
#X connect 80 4 93 0;
#X connect 81 0 82 0;
#X connect 81 0 83 0;
#X connect 83 0 84 0;
#X connect 85 0 83 1;
#X connect 86 0 82 0;
#X connect 87 0 86 0;
#X connect 88 0 90 0;
#X connect 89 0 88 0;
#X connect 90 0 82 0;
#X connect 90 0 92 0;
#X connect 91 0 82 0;
#X connect 92 0 87 0;
#X connect 93 0 98 0;
#X connect 93 1 99 0;
#X connect 94 0 81 0;
#X connect 95 0 81 0;
#X connect 96 0 81 0;
#X connect 97 0 81 0;
#X connect 98 0 81 0;
#X connect 99 0 81 0;
#X connect 100 0 112 4;
#X connect 101 0 112 3;
#X connect 102 0 112 0;
#X connect 102 1 112 1;
#X connect 104 0 73 0;
#X connect 104 1 103 0;
#X connect 105 0 113 1;
#X connect 106 0 112 2;
#X connect 107 0 127 0;
#X connect 108 0 128 0;
#X connect 109 0 108 1;
#X connect 110 0 109 0;
#X connect 110 0 107 1;
#X connect 111 0 102 0;
#X connect 112 0 108 0;
#X connect 112 0 107 0;
#X connect 113 0 123 0;
#X connect 114 0 113 3;
#X connect 115 0 113 2;
#X connect 116 0 119 0;
#X connect 116 1 117 1;
#X connect 117 0 116 0;
#X connect 118 0 117 0;
#X connect 119 0 80 0;
#X connect 120 0 140 0;
#X connect 121 0 122 0;
#X connect 121 1 120 0;
#X connect 122 0 113 0;
#X connect 123 0 140 0;
#X connect 124 0 122 1;
#X connect 125 0 124 0;
#X connect 127 0 80 0;
#X connect 128 0 80 0;
#X connect 129 0 130 1;
#X connect 130 0 137 0;
#X connect 131 0 135 0;
#X connect 132 0 37 0;
#X connect 133 0 132 1;
#X connect 135 0 132 0;
#X connect 135 1 130 0;
#X connect 135 2 133 0;
#X connect 136 0 132 1;
#X connect 137 0 132 0;
#X connect 137 1 136 0;
#X connect 139 0 80 0;
#X connect 141 0 102 0;
#X connect 144 0 145 0;
#X connect 145 0 69 0;
